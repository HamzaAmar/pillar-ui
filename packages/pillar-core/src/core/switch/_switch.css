.switch {
  position: relative;
  background-color: var(--slate-7);
  border: 2px solid var(--slate-8);
  min-width: 2.5em;
  flex-shrink: 0;
  height: 1.25em;

  &:focus-visible {
    outline: 2px dashed var(--color-shared-9);
    outline-offset: 2px;
  }
  &:hover::before {
    box-shadow: inset 0 0 0 0.125em var(--opacity-8);
  }
  &::before {
    content: '';
    width: calc(1.25em - 2px);
    height: calc(1.25em - 4px);
    border-radius: inherit;
    background-color: var(--slate-2);
    position: absolute;
    left: 0;
    top: 50%;
    transform: translate(0, -50%);
    transition: transform 0.3s, width 0.3s;
    outline: 2px solid transparent;
    outline-offset: -2px;
  }
  &:active::before {
    transform: translate(0, -50%);
    width: 1.675em;
  }
  &[aria-pressed='true'] {
    background: var(--color-shared-9);
    border-color: var(--color-shared-9);
    &:active::before {
      transform: translate(40%, -50%);
    }
    &::before {
      transform: translate(100%, -50%);
    }
  }
  &:disabled {
    background-color: var(--slate-8);
    border-color: var(--slate-8);
    pointer-events: none;
    cursor: not-allowed;
    &:before {
      background-color: var(--slate-7);
    }
  }
}
